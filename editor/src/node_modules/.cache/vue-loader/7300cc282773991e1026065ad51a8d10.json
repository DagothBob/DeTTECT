{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/holger/DeTTECT_Project/DeTTECT/editor/src/pages/TechniquesPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/holger/DeTTECT_Project/DeTTECT/editor/src/pages/TechniquesPage.vue","mtime":1638053205634},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":1638056082284},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":1638056082020},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":1638056081964}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUZWNobmlxdWVzRGV0YWlsIGZyb20gJy4vVGVjaG5pcXVlc0RldGFpbCc7CmltcG9ydCBJY29ucyBmcm9tICdAL2NvbXBvbmVudHMvSWNvbnMnOwppbXBvcnQganN5YW1sIGZyb20gJ2pzLXlhbWwnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBjb25zdGFudHMgZnJvbSAnQC9jb25zdGFudHMnOwppbXBvcnQgeyBwYWdlTWl4aW4gfSBmcm9tICcuLi9taXhpbnMvUGFnZU1peGlucy5qcyc7CmltcG9ydCB7IG5hdmlnYXRlTWl4aW5zIH0gZnJvbSAnLi4vbWl4aW5zL05hdmlnYXRlTWl4aW5zLmpzJzsKaW1wb3J0IHsgbm90aWZpY2F0aW9uTWl4aW4gfSBmcm9tICcuLi9taXhpbnMvTm90aWZpY2F0aW9uTWl4aW5zLmpzJzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICd0ZWNobmlxdWVzLXBhZ2UnLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBmaWx0ZXJzOiB7CiAgICAgICAgICAgICAgICBmaWx0ZXI6IHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICAgICAgICAgICAga2V5czogWyd0ZWNobmlxdWVfaWQnLCAndGVjaG5pcXVlX25hbWUnXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhX2NvbHVtbnM6IFsndGVjaG5pcXVlX2lkJywgJ3RlY2huaXF1ZV9uYW1lJ10sCiAgICAgICAgICAgIGVtcHR5VGVjaE9iamVjdDogY29uc3RhbnRzLllBTUxfT0JKX1RFQ0hOSVFVRQogICAgICAgIH07CiAgICB9LAogICAgbWl4aW5zOiBbcGFnZU1peGluLCBuYXZpZ2F0ZU1peGlucywgbm90aWZpY2F0aW9uTWl4aW5dLAogICAgY29tcG9uZW50czogewogICAgICAgIFRlY2huaXF1ZXNEZXRhaWwsCiAgICAgICAgSWNvbnMKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgcmVhZEZpbGUoZXZlbnQpIHsKICAgICAgICAgICAgLy8gTG9hZHMgYW5kIGNoZWNrcyB0aGUgZmlsZSBjb250ZW50CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBsZXQgeWFtbF9pbnB1dCA9IGpzeWFtbC5sb2FkKGV2ZW50LnJlc3VsdCk7CgogICAgICAgICAgICAgICAgaWYgKHlhbWxfaW5wdXRbJ2ZpbGVfdHlwZSddID09ICd0ZWNobmlxdWUtYWRtaW5pc3RyYXRpb24nKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHlhbWxfaW5wdXRbJ3ZlcnNpb24nXSAhPSBjb25zdGFudHMuWUFNTF9URUNITklRVUVTX1ZFUlNJT04pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlEYW5nZXIoJ0ludmFsaWQgZmlsZSB2ZXJzaW9uJywgJ1RoZSB2ZXJzaW9uIG9mIHRoZSBZQU1MIGZpbGUgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIHZlcnNpb24gb2YgdGhlIEVkaXRvci4nKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgICAgICAgICAgICAgICAgICAgICAvLyBIZWFsdGggY2hlY2tzIGJlZm9yZSBhc3NpZ25tZW50IHRvIHRoaXMuZG9jOgogICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gRml4IG1pc3Npbmcgb3IgZW1wdHkgcGxhdGZvcm06CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5YW1sX2lucHV0LnBsYXRmb3JtID09IHVuZGVmaW5lZCB8fCB5YW1sX2lucHV0LnBsYXRmb3JtID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQucGxhdGZvcm0gPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gRml4IGEgc2luZ2xlIHBsYXRmb3JtIHN0cmluZyB0byBsaXN0CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeWFtbF9pbnB1dC5wbGF0Zm9ybSA9PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC5wbGF0Zm9ybSA9IFt5YW1sX2lucHV0LnBsYXRmb3JtXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSB1c2UgdmFsaWQgcGxhdGZvcm0gdmFsdWVzIChpbiByaWdodCBjYXNpbmcpOgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsaWRfcGxhdGZvcm1zID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeWFtbF9pbnB1dC5wbGF0Zm9ybS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxhdGZvcm1zLmluZGV4T2YoeWFtbF9pbnB1dC5wbGF0Zm9ybVtpXSkgPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHAgPSB5YW1sX2lucHV0LnBsYXRmb3JtW2ldLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNvbnN0YW50cy5QTEFURk9STV9DT05WRVJTSU9OKS5pbmRleE9mKHApID49IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRfcGxhdGZvcm1zLnB1c2goY29uc3RhbnRzLlBMQVRGT1JNX0NPTlZFUlNJT05bcF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5RGFuZ2VyKCdJbnZhbGlkIHZhbHVlJywgJ0ludmFsaWQgdmFsdWUgZm9yIHBsYXRmb3JtIHdhcyBmb3VuZCBpbiB0aGUgWUFNTCBmaWxlIGFuZCB3YXMgcmVtb3ZlZC4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkX3BsYXRmb3Jtcy5wdXNoKHlhbWxfaW5wdXQucGxhdGZvcm1baV0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQucGxhdGZvcm0gPSB2YWxpZF9wbGF0Zm9ybXM7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXggbWlzc2luZy9pbnZhbGlkIGZpZWxkczoKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB5YW1sX2lucHV0LnRlY2huaXF1ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpeCBubyBkZXRlY3Rpb24gbm9kZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0uZGV0ZWN0aW9uID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb24gPSBuZXcgQXJyYXkoXy5jbG9uZURlZXAoY29uc3RhbnRzLllBTUxfT0JKX1RFQ0hOSVFVRV9ERVRFQ1RJT04pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLmRldGVjdGlvbikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQdXQgc2luZ2xlIGRldGVjdGlvbiBpdGVtIGluIGxpc3Q6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLmRldGVjdGlvbiA9IG5ldyBBcnJheSh5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0uZGV0ZWN0aW9uKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXggbm8gdmlzaWJpbGl0eSBub2RlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5ID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5ID0gbmV3IEFycmF5KF8uY2xvbmVEZWVwKGNvbnN0YW50cy5ZQU1MX09CSl9URUNITklRVUVfVklTSUJJTElUWSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0udmlzaWJpbGl0eSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQdXQgc2luZ2xlIHZpc2liaWxpdHkgaXRlbSBpbiBsaXN0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5ID0gbmV3IEFycmF5KHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBkZXRlY3Rpb24gZmllbGRzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0uZGV0ZWN0aW9uLmxlbmd0aDsgeCsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0uYXBwbGljYWJsZV90byA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLmRldGVjdGlvblt4XS5hcHBsaWNhYmxlX3RvID0gWydhbGwnXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0ubG9jYXRpb24gPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0ubG9jYXRpb24gPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxlbmd0aF9sb2NhdGlvbiA9IHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0ubG9jYXRpb24ubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsZW5ndGhfbG9jYXRpb24tLSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLmRldGVjdGlvblt4XS5sb2NhdGlvbltsZW5ndGhfbG9jYXRpb25dID09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0uZGV0ZWN0aW9uW3hdLmxvY2F0aW9uLnNwbGljZShsZW5ndGhfbG9jYXRpb24sIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0uZGV0ZWN0aW9uW3hdLmNvbW1lbnQgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0uY29tbWVudCA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0uc2NvcmVfbG9nYm9vayA9PSB1bmRlZmluZWQgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLmRldGVjdGlvblt4XS5zY29yZV9sb2dib29rLmxlbmd0aCA9PSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0uc2NvcmVfbG9nYm9vayA9IG5ldyBBcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uY2xvbmVEZWVwKGNvbnN0YW50cy5ZQU1MX09CSl9TQ09SRV9ERVRFQ1RJT05fTE9HQk9PSykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHNjb3JlIGxvZyBib29rIHZhcmlhYmxlczoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0uc2NvcmVfbG9nYm9vay5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLmRldGVjdGlvblt4XS5zY29yZV9sb2dib29rW2pdLmRhdGUgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0uZGV0ZWN0aW9uW3hdLnNjb3JlX2xvZ2Jvb2tbal0uZGF0ZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0uc2NvcmVfbG9nYm9va1tqXS5zY29yZSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0uc2NvcmVfbG9nYm9va1tqXS5zY29yZSA9IC0xOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLmRldGVjdGlvblt4XS5zY29yZV9sb2dib29rW2pdLnNjb3JlID0gdGhpcy5maXhTRGV0ZWN0aW9uU2NvcmUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLmRldGVjdGlvblt4XS5zY29yZV9sb2dib29rW2pdLnNjb3JlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0uZGV0ZWN0aW9uW3hdLnNjb3JlX2xvZ2Jvb2tbal0uY29tbWVudCA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0uc2NvcmVfbG9nYm9va1tqXS5jb21tZW50ID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0uc2NvcmVfbG9nYm9va1tqXS5kYXRlICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0uc2NvcmVfbG9nYm9va1tqXS5kYXRlID0gbW9tZW50KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0uc2NvcmVfbG9nYm9va1tqXS5kYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdERC9NTS9ZWVlZJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB2aXNpYmlsaXR5IGZpZWxkczoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLnZpc2liaWxpdHkubGVuZ3RoOyB4KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLnZpc2liaWxpdHlbeF0uYXBwbGljYWJsZV90byA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLnZpc2liaWxpdHlbeF0uYXBwbGljYWJsZV90byA9IFsnYWxsJ107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0udmlzaWJpbGl0eVt4XS5jb21tZW50ID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0udmlzaWJpbGl0eVt4XS5jb21tZW50ID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLnZpc2liaWxpdHlbeF0uc2NvcmVfbG9nYm9vayA9PSB1bmRlZmluZWQgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLnZpc2liaWxpdHlbeF0uc2NvcmVfbG9nYm9vay5sZW5ndGggPT0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0udmlzaWJpbGl0eVt4XS5zY29yZV9sb2dib29rID0gbmV3IEFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5jbG9uZURlZXAoY29uc3RhbnRzLllBTUxfT0JKX1NDT1JFX1ZJU0lCSUxJVFlfTE9HQk9PSykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHNjb3JlIGxvZyBib29rIHZhcmlhYmxlczoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5W3hdLnNjb3JlX2xvZ2Jvb2subGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5W3hdLnNjb3JlX2xvZ2Jvb2tbal0uZGF0ZSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5W3hdLnNjb3JlX2xvZ2Jvb2tbal0uZGF0ZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5W3hdLnNjb3JlX2xvZ2Jvb2tbal0uc2NvcmUgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0udmlzaWJpbGl0eVt4XS5zY29yZV9sb2dib29rW2pdLnNjb3JlID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5W3hdLnNjb3JlX2xvZ2Jvb2tbal0uc2NvcmUgPSB0aGlzLmZpeFZpc2liaWxpdHlTY29yZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0udmlzaWJpbGl0eVt4XS5zY29yZV9sb2dib29rW2pdLnNjb3JlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0udmlzaWJpbGl0eVt4XS5zY29yZV9sb2dib29rW2pdLmNvbW1lbnQgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0udmlzaWJpbGl0eVt4XS5zY29yZV9sb2dib29rW2pdLmNvbW1lbnQgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLnZpc2liaWxpdHlbeF0uc2NvcmVfbG9nYm9va1tqXS5kYXRlICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5W3hdLnNjb3JlX2xvZ2Jvb2tbal0uZGF0ZSA9IG1vbWVudCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0udmlzaWJpbGl0eVt4XS5zY29yZV9sb2dib29rW2pdLmRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0REL01NL1lZWVknCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLmZvcm1hdCgnWVlZWS1NTS1ERCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0udmlzaWJpbGl0eVt4XS5zY29yZV9sb2dib29rW2pdLmF1dG9fZ2VuZXJhdGVkID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLnZpc2liaWxpdHlbeF0uc2NvcmVfbG9nYm9va1tqXS5hdXRvX2dlbmVyYXRlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLnZpc2liaWxpdHlbeF0uc2NvcmVfbG9nYm9va1tqXS5hdXRvX2dlbmVyYXRlZCAhPSAnYm9vbGVhbicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5W3hdLnNjb3JlX2xvZ2Jvb2tbal0uYXV0b19nZW5lcmF0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBvdmVybGFwcGluZyBhcHBsaWNhYmxlX3RvIHZhbHVlcyBmb3IgZGV0ZWN0aW9uOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFwcGxpY2FibGVfdG9fbGlzdF9kZXRlY3Rpb24gPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RpZmllZExpc3RfZGV0ZWN0aW9uID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb24ubGVuZ3RoOyB4KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS5kZXRlY3Rpb25beF0uYXBwbGljYWJsZV90by5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhYmxlX3RvX2xpc3RfZGV0ZWN0aW9uLnB1c2goeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLmRldGVjdGlvblt4XS5hcHBsaWNhYmxlX3RvW2pdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGFwcGxpY2FibGVfdG9fbGlzdF9kZXRlY3Rpb24ubGVuZ3RoOyB4KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYyA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcHBsaWNhYmxlX3RvX2xpc3RfZGV0ZWN0aW9uLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHBsaWNhYmxlX3RvX2xpc3RfZGV0ZWN0aW9uW3hdID09IGFwcGxpY2FibGVfdG9fbGlzdF9kZXRlY3Rpb25bal0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA+IDEgJiYgIW5vdGlmaWVkTGlzdF9kZXRlY3Rpb24uaW5jbHVkZXMoYXBwbGljYWJsZV90b19saXN0X2RldGVjdGlvblt4XSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpZWRMaXN0X2RldGVjdGlvbi5wdXNoKGFwcGxpY2FibGVfdG9fbGlzdF9kZXRlY3Rpb25beF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeU92ZXJsYXBwaW5nQXBwbGljYWJsZVRvKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RldGVjdGlvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0udGVjaG5pcXVlX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYWJsZV90b19saXN0X2RldGVjdGlvblt4XQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBvdmVybGFwcGluZyBhcHBsaWNhYmxlX3RvIHZhbHVlcyBmb3IgdmlzaWJpbGl0eToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhcHBsaWNhYmxlX3RvX2xpc3RfdmlzaWJpbGl0eSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdGlmaWVkTGlzdF92aXNpYmlsaXR5ID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHlhbWxfaW5wdXQudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5Lmxlbmd0aDsgeCsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB5YW1sX2lucHV0LnRlY2huaXF1ZXNbaV0udmlzaWJpbGl0eVt4XS5hcHBsaWNhYmxlX3RvLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2FibGVfdG9fbGlzdF92aXNpYmlsaXR5LnB1c2goeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLnZpc2liaWxpdHlbeF0uYXBwbGljYWJsZV90b1tqXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBhcHBsaWNhYmxlX3RvX2xpc3RfdmlzaWJpbGl0eS5sZW5ndGg7IHgrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFwcGxpY2FibGVfdG9fbGlzdF92aXNpYmlsaXR5Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHBsaWNhYmxlX3RvX2xpc3RfdmlzaWJpbGl0eVt4XSA9PSBhcHBsaWNhYmxlX3RvX2xpc3RfdmlzaWJpbGl0eVtqXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYysrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjID4gMSAmJiAhbm90aWZpZWRMaXN0X3Zpc2liaWxpdHkuaW5jbHVkZXMoYXBwbGljYWJsZV90b19saXN0X3Zpc2liaWxpdHlbeF0pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWVkTGlzdF92aXNpYmlsaXR5LnB1c2goYXBwbGljYWJsZV90b19saXN0X3Zpc2liaWxpdHlbeF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeU92ZXJsYXBwaW5nQXBwbGljYWJsZVRvKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Zpc2liaWxpdHknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC50ZWNobmlxdWVzW2ldLnRlY2huaXF1ZV9pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2FibGVfdG9fbGlzdF92aXNpYmlsaXR5W3hdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvYyA9IHlhbWxfaW5wdXQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZW5hbWUgPSB0aGlzLnNlbGVjdGVkX2ZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlcnMuZmlsdGVyLnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLnNlbGVjdGVkUm93ICE9IG51bGwgJiYgdGhpcy5zZWxlY3RlZFJvdy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93LnBvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVDaGFuZ2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVud2F0Y2hGdW5jdGlvbiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVud2F0Y2hGdW5jdGlvbigpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudW53YXRjaEZ1bmN0aW9uID0gdGhpcy4kd2F0Y2goCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZG9jJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oYWZ0ZXIsIGJlZm9yZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZUNoYW5nZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZGVlcDogdHJ1ZSB9CiAgICAgICAgICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgZmlsZSByZWFkZXIgZm9yIENocm9tZSwgc28gdGhhdCBpdCB3aWxsIGJlIHBvc3NpYmxlIHRvIGxvYWQgdGhlIHNhbWUgZmlsZSBhZ2FpbjoKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlY2huaXF1ZUZpbGVSZWFkZXInKS52YWx1ZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeUludmFsaWRGaWxlVHlwZSh0aGlzLnNlbGVjdGVkX2ZpbGVuYW1lKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgYWxlcnQoZSk7CiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeUludmFsaWRGaWxlVHlwZSh0aGlzLnNlbGVjdGVkX2ZpbGVuYW1lKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbmV3RmlsZSgpIHsKICAgICAgICAgICAgdGhpcy5maWxlbmFtZSA9ICd0ZWNobmlxdWVzLWFkbWluaXN0cmF0aW9uLW5ldy55YW1sJzsKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZF9maWxlbmFtZSA9ICd0ZWNobmlxdWVzLWFkbWluaXN0cmF0aW9uLW5ldy55YW1sJzsKICAgICAgICAgICAgdGhpcy5kb2MgPSBfLmNsb25lRGVlcChjb25zdGFudHMuWUFNTF9PQkpfTkVXX1RFQ0hOSVFVRVNfRklMRSk7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3cucG9wKCk7CiAgICAgICAgICAgIHRoaXMuZGVsZXRlZFJvd3MgPSBbXTsKICAgICAgICAgICAgdGhpcy5maWxlQ2hhbmdlZCA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnNldFdhdGNoKCk7CiAgICAgICAgfSwKICAgICAgICBmaXhTRGV0ZWN0aW9uU2NvcmUoZCkgewogICAgICAgICAgICBpZiAoZCA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfSBlbHNlIGlmIChkIDwgLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfSBlbHNlIGlmIChkID4gNSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGQgPT0gJ251bWJlcicpIHsKICAgICAgICAgICAgICAgIHJldHVybiBkOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBmaXhWaXNpYmlsaXR5U2NvcmUodikgewogICAgICAgICAgICBpZiAodiA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9IGVsc2UgaWYgKHYgPCAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfSBlbHNlIGlmICh2ID4gNCkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQ7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT0gJ251bWJlcicpIHsKICAgICAgICAgICAgICAgIHJldHVybiB2OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNsZWFudXBCZWZvcmVEb3dubG9hZCgpIHsKICAgICAgICAgICAgLy8gUmVtb3ZlIGVtcHR5IHNjb3JlIGxvZ2Jvb2sgcm93cyBpbiBkZXRlY3Rpb246CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kb2MudGVjaG5pcXVlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLmRvYy50ZWNobmlxdWVzW2ldLmRldGVjdGlvbi5sZW5ndGg7IHgrKykgewogICAgICAgICAgICAgICAgICAgIGxldCBpbmRleEVtcHR5U2NvcmVMb2dib29rID0gLTE7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRvYy50ZWNobmlxdWVzW2ldLmRldGVjdGlvblt4XS5zY29yZV9sb2dib29rLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRvYy50ZWNobmlxdWVzW2ldLmRldGVjdGlvblt4XS5zY29yZV9sb2dib29rLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IHRoaXMuZG9jLnRlY2huaXF1ZXNbaV0uZGV0ZWN0aW9uW3hdLnNjb3JlX2xvZ2Jvb2tbal0uZGF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPT0gbnVsbCB8fCBkID09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleEVtcHR5U2NvcmVMb2dib29rID0gajsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXhFbXB0eVNjb3JlTG9nYm9vayA+PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jLnRlY2huaXF1ZXNbaV0uZGV0ZWN0aW9uW3hdLnNjb3JlX2xvZ2Jvb2suc3BsaWNlKGluZGV4RW1wdHlTY29yZUxvZ2Jvb2ssIDEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gUmVtb3ZlIGVtcHR5IHNjb3JlIGxvZ2Jvb2sgcm93cyBpbiB2aXNpYmlsaXR5OgogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZG9jLnRlY2huaXF1ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5kb2MudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5Lmxlbmd0aDsgeCsrKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4RW1wdHlTY29yZUxvZ2Jvb2sgPSAtMTsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZG9jLnRlY2huaXF1ZXNbaV0udmlzaWJpbGl0eVt4XS5zY29yZV9sb2dib29rLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRvYy50ZWNobmlxdWVzW2ldLnZpc2liaWxpdHlbeF0uc2NvcmVfbG9nYm9vay5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSB0aGlzLmRvYy50ZWNobmlxdWVzW2ldLnZpc2liaWxpdHlbeF0uc2NvcmVfbG9nYm9va1tqXS5kYXRlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA9PSBudWxsIHx8IGQgPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4RW1wdHlTY29yZUxvZ2Jvb2sgPSBqOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChpbmRleEVtcHR5U2NvcmVMb2dib29rID49IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2MudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5W3hdLnNjb3JlX2xvZ2Jvb2suc3BsaWNlKGluZGV4RW1wdHlTY29yZUxvZ2Jvb2ssIDEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY29udmVydEJlZm9yZURvd25sb2FkKG5ld0RvYykgewogICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBkYXRlICh3aGljaCBpcyBhIHN0cmluZyBpbiB0aGUgR1VJKSB0byBhIHJlYWwgRGF0ZSBvYmplY3QgaW4gdGhlIFlBTUwgZmlsZQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0RvYy50ZWNobmlxdWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IG5ld0RvYy50ZWNobmlxdWVzW2ldLmRldGVjdGlvbi5sZW5ndGg7IHgrKykgewogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmV3RG9jLnRlY2huaXF1ZXNbaV0uZGV0ZWN0aW9uW3hdLnNjb3JlX2xvZ2Jvb2subGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0RvYy50ZWNobmlxdWVzW2ldLmRldGVjdGlvblt4XS5zY29yZV9sb2dib29rW2pdWydkYXRlJ10gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RG9jLnRlY2huaXF1ZXNbaV0uZGV0ZWN0aW9uW3hdLnNjb3JlX2xvZ2Jvb2tbal1bJ2RhdGUnXSA9IG5ldyBEYXRlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RvYy50ZWNobmlxdWVzW2ldLmRldGVjdGlvblt4XS5zY29yZV9sb2dib29rW2pdWydkYXRlJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdEb2MudGVjaG5pcXVlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBuZXdEb2MudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5Lmxlbmd0aDsgeCsrKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuZXdEb2MudGVjaG5pcXVlc1tpXS52aXNpYmlsaXR5W3hdLnNjb3JlX2xvZ2Jvb2subGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0RvYy50ZWNobmlxdWVzW2ldLnZpc2liaWxpdHlbeF0uc2NvcmVfbG9nYm9va1tqXVsnZGF0ZSddICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RvYy50ZWNobmlxdWVzW2ldLnZpc2liaWxpdHlbeF0uc2NvcmVfbG9nYm9va1tqXVsnZGF0ZSddID0gbmV3IERhdGUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RG9jLnRlY2huaXF1ZXNbaV0udmlzaWJpbGl0eVt4XS5zY29yZV9sb2dib29rW2pdWydkYXRlJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNlbGVjdFRlY2huaXF1ZShldmVudCkgewogICAgICAgICAgICBpZiAodGhpcy4kcmVmcy5kZXRhaWxDb21wb25lbnQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmRldGFpbENvbXBvbmVudC5jbG9zZUFsbENvbGxhcHNlcygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuc2VsZWN0SXRlbShldmVudCk7CiAgICAgICAgfSwKICAgICAgICBzZWxlY3RUZWNobmlxdWVJZCh0ZWNobmlxdWVfaWQpIHsKICAgICAgICAgICAgbGV0IHJvdyA9IG51bGw7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kb2MudGVjaG5pcXVlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuZG9jLnRlY2huaXF1ZXNbaV0udGVjaG5pcXVlX2lkID09IHRlY2huaXF1ZV9pZCkgewogICAgICAgICAgICAgICAgICAgIHJvdyA9IHRoaXMuZG9jLnRlY2huaXF1ZXNbaV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHJvdyAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93LnBvcCgpOwogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvdy5wdXNoKHJvdyk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGRlbGV0ZVRlY2huaXF1ZShldmVudCkgewogICAgICAgICAgICB0aGlzLmRlbGV0ZUl0ZW0oZXZlbnQsICd0ZWNobmlxdWVzJywgJ3RlY2huaXF1ZV9pZCcsICdUZWNobmlxdWUnLCB0aGlzLnJlY292ZXJEZWxldGVkVGVjaG5pcXVlKTsKICAgICAgICB9LAogICAgICAgIHJlY292ZXJEZWxldGVkVGVjaG5pcXVlKHRlY2huaXF1ZV9pZCkgewogICAgICAgICAgICB0aGlzLnJlY292ZXJEZWxldGVkSXRlbSgndGVjaG5pcXVlcycsIHRlY2huaXF1ZV9pZCk7CiAgICAgICAgfSwKICAgICAgICBub3RpZnlJbnZhbGlkRmlsZVR5cGUoZmlsZW5hbWUpIHsKICAgICAgICAgICAgdGhpcy5ub3RpZnlEYW5nZXIoJ0ludmFsaWQgWUFNTCBmaWxlIHR5cGUnLCAiVGhlIGZpbGUgJyIgKyBmaWxlbmFtZSArICInIGlzIG5vdCBhIHZhbGlkIHRlY2huaXF1ZSBhZG1pbmlzdHJhdGlvbiBmaWxlLiIpOwogICAgICAgIH0sCiAgICAgICAgbm90aWZ5T3ZlcmxhcHBpbmdBcHBsaWNhYmxlVG8odHlwZSwgdGVjaG5pcXVlX2lkLCB2YWx1ZSkgewogICAgICAgICAgICB0aGlzLm5vdGlmeURhbmdlcldpdGhDYWxsYmFjaygKICAgICAgICAgICAgICAgICJPdmVybGFwcGluZyB2YWx1ZSBpbiAnYXBwbGljYWJsZV90byciLAogICAgICAgICAgICAgICAgIkEgZHVwbGljYXRlIHZhbHVlIGZvciAnYXBwbGljYWJsZV90bycgd2FzIGZvdW5kIHdpdGhpbiB0aGUgIiArIHR5cGUgKyAnIHNlY3Rpb24gb2YgdGVjaG5pcXVlICcgKyB0ZWNobmlxdWVfaWQgKyAiOiAnIiArIHZhbHVlICsgIiciLAogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RUZWNobmlxdWVJZCwKICAgICAgICAgICAgICAgICdHbyB0byB0ZWNobmlxdWUgJyArIHRlY2huaXF1ZV9pZCwKICAgICAgICAgICAgICAgIHRlY2huaXF1ZV9pZCwKICAgICAgICAgICAgICAgIHRydWUKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9Cn07Cg=="},{"version":3,"sources":["TechniquesPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TechniquesPage.vue","sourceRoot":"pages","sourcesContent":["<template>\n    <div>\n        <div v-if=\"doc != null\" class=\"back-to-top\">\n            <label @click=\"navigateToTop\" class=\"cursor-pointer\" title=\"Back to top\">\n                <icons icon=\"arrow-up\"></icons>\n            </label>\n        </div>\n\n        <div class=\"row\" id=\"pageTop\">\n            <div class=\"col\">\n                <div class=\"card card-card\">\n                    <div class=\"card-header\">\n                        <h2 class=\"card-title\"><i class=\"tim-icons icon-zoom-split\"></i> Techniques</h2>\n                    </div>\n                    <div class=\"card-body\">\n                        <div class=\"row\">\n                            <div class=\"col\">\n                                <button type=\"button\" class=\"btn mr-md-3\" @click=\"askNewFile\">\n                                    <icons icon=\"file-empty\"></icons>\n                                    &nbsp;New file\n                                </button>\n                                <label class=\"custom-file-upload\">\n                                    <icons icon=\"file\"></icons>\n                                    &nbsp;Select YAML file\n                                    <file-reader @load=\"readFile($event)\" :setFileNameFn=\"setFileName\" :id=\"'techniqueFileReader'\"></file-reader>\n                                </label>\n                                <label v-if=\"fileChanged\" class=\"pl-2\">\n                                    <icons icon=\"text-balloon\"></icons>\n                                    You have unsaved changes. You may want to save the file to preserve your changes.</label\n                                >\n                            </div>\n                        </div>\n                        <div v-if=\"doc != null\" class=\"row pt-md-2\">\n                            <div class=\"col\">\n                                <file-details :filename=\"filename\" :doc=\"doc\" :platforms=\"platforms\"></file-details>\n                            </div>\n                        </div>\n                        <div v-if=\"doc != null\" class=\"row pt-md-2\">\n                            <div class=\"col card-text\">\n                                <button type=\"button\" class=\"btn\" @click=\"downloadYaml('techniques', 'technique_id')\">\n                                    <icons icon=\"save\"></icons>\n                                    &nbsp;Save YAML file\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div v-if=\"doc != null\" class=\"row\">\n            <div class=\"col\">\n                <card type=\"card\">\n                    <div class=\"row\">\n                        <div class=\"col\">\n                            <p>\n                                <button type=\"button\" class=\"btn btn-secondary\" @click=\"addItem('techniques', 'technique_id', emptyTechObject)\">\n                                    <icons icon=\"plus\"></icons>\n                                    &nbsp;Add technique\n                                </button>\n                            </p>\n                        </div>\n                    </div>\n                    <div class=\"row mt-md-2\">\n                        <div class=\"col\">\n                            <base-input v-model=\"filters.filter.value\" placeholder=\"filter\" />\n                            <v-table\n                                :data=\"doc.techniques\"\n                                @selectionChanged=\"selectTechnique($event)\"\n                                selectedClass=\"table-selected-custom\"\n                                :filters=\"filters\"\n                                class=\"table-custom\"\n                                ref=\"data_table\"\n                            >\n                                <thead slot=\"head\">\n                                    <v-th sortKey=\"technique_id\" defaultSort=\"asc\" width=\"200\">Technique ID</v-th>\n                                    <v-th sortKey=\"technique_name\" width=\"400\">Name</v-th>\n                                    <th></th>\n                                </thead>\n                                <tbody slot=\"body\" slot-scope=\"{ displayData }\">\n                                    <v-tr v-for=\"(row, i) in displayData\" :key=\"row.technique_id\" :row=\"row\" ref=\"data_table_rows\">\n                                        <td>{{ row.technique_id }}</td>\n                                        <td>{{ row.technique_name }}</td>\n                                        <td>\n                                            <i\n                                                class=\"tim-icons icon-trash-simple cursor-pointer\"\n                                                :idx=\"i\"\n                                                :technique_id=\"row.technique_id\"\n                                                @click=\"deleteTechnique($event)\"\n                                            />\n                                        </td>\n                                    </v-tr>\n                                </tbody>\n                            </v-table>\n                        </div>\n                    </div>\n                </card>\n            </div>\n            <div class=\"col\">\n                <card type=\"card\">\n                    <techniques-detail\n                        v-if=\"getSelectedItem() != null\"\n                        :technique=\"getSelectedItem()\"\n                        :allTechniques=\"doc.techniques\"\n                        :selectedPlatforms=\"doc.platform\"\n                        ref=\"detailComponent\"\n                        :navigateItem=\"navigateItem\"\n                    ></techniques-detail>\n                </card>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport TechniquesDetail from './TechniquesDetail';\nimport Icons from '@/components/Icons';\nimport jsyaml from 'js-yaml';\nimport moment from 'moment';\nimport constants from '@/constants';\nimport { pageMixin } from '../mixins/PageMixins.js';\nimport { navigateMixins } from '../mixins/NavigateMixins.js';\nimport { notificationMixin } from '../mixins/NotificationMixins.js';\nimport _ from 'lodash';\n\nexport default {\n    name: 'techniques-page',\n    data() {\n        return {\n            filters: {\n                filter: {\n                    value: '',\n                    keys: ['technique_id', 'technique_name']\n                }\n            },\n            data_columns: ['technique_id', 'technique_name'],\n            emptyTechObject: constants.YAML_OBJ_TECHNIQUE\n        };\n    },\n    mixins: [pageMixin, navigateMixins, notificationMixin],\n    components: {\n        TechniquesDetail,\n        Icons\n    },\n    methods: {\n        readFile(event) {\n            // Loads and checks the file content\n            try {\n                let yaml_input = jsyaml.load(event.result);\n\n                if (yaml_input['file_type'] == 'technique-administration') {\n                    if (yaml_input['version'] != constants.YAML_TECHNIQUES_VERSION) {\n                        this.notifyDanger('Invalid file version', 'The version of the YAML file is not supported by this version of the Editor.');\n                    } else {\n                        ///////////////////////////////////////////////\n                        // Health checks before assignment to this.doc:\n                        ///////////////////////////////////////////////\n\n                        // Fix missing or empty platform:\n                        if (yaml_input.platform == undefined || yaml_input.platform == null) {\n                            yaml_input.platform = [];\n                        }\n\n                        // Fix a single platform string to list\n                        if (typeof yaml_input.platform == 'string') {\n                            yaml_input.platform = [yaml_input.platform];\n                        }\n\n                        // Only use valid platform values (in right casing):\n                        let valid_platforms = [];\n                        for (let i = 0; i < yaml_input.platform.length; i++) {\n                            if (this.platforms.indexOf(yaml_input.platform[i]) < 0) {\n                                let p = yaml_input.platform[i].toLowerCase();\n                                if (Object.keys(constants.PLATFORM_CONVERSION).indexOf(p) >= 0) {\n                                    valid_platforms.push(constants.PLATFORM_CONVERSION[p]);\n                                } else {\n                                    this.notifyDanger('Invalid value', 'Invalid value for platform was found in the YAML file and was removed.');\n                                }\n                            } else {\n                                valid_platforms.push(yaml_input.platform[i]);\n                            }\n                        }\n                        yaml_input.platform = valid_platforms;\n\n                        // Fix missing/invalid fields:\n                        for (let i = 0; i < yaml_input.techniques.length; i++) {\n                            // Fix no detection node:\n                            if (yaml_input.techniques[i].detection == undefined) {\n                                yaml_input.techniques[i].detection = new Array(_.cloneDeep(constants.YAML_OBJ_TECHNIQUE_DETECTION));\n                            } else if (!Array.isArray(yaml_input.techniques[i].detection)) {\n                                // Put single detection item in list:\n                                yaml_input.techniques[i].detection = new Array(yaml_input.techniques[i].detection);\n                            }\n\n                            // Fix no visibility node:\n                            if (yaml_input.techniques[i].visibility == undefined) {\n                                yaml_input.techniques[i].visibility = new Array(_.cloneDeep(constants.YAML_OBJ_TECHNIQUE_VISIBILITY));\n                            } else if (!Array.isArray(yaml_input.techniques[i].visibility)) {\n                                // Put single visibility item in list:\n                                yaml_input.techniques[i].visibility = new Array(yaml_input.techniques[i].visibility);\n                            }\n\n                            // Check detection fields:\n                            for (let x = 0; x < yaml_input.techniques[i].detection.length; x++) {\n                                if (yaml_input.techniques[i].detection[x].applicable_to == undefined) {\n                                    yaml_input.techniques[i].detection[x].applicable_to = ['all'];\n                                }\n                                if (yaml_input.techniques[i].detection[x].location == undefined) {\n                                    yaml_input.techniques[i].detection[x].location = [];\n                                }\n                                let length_location = yaml_input.techniques[i].detection[x].location.length;\n                                while (length_location--) {\n                                    if (yaml_input.techniques[i].detection[x].location[length_location] == '') {\n                                        yaml_input.techniques[i].detection[x].location.splice(length_location, 1);\n                                    }\n                                }\n                                if (yaml_input.techniques[i].detection[x].comment == undefined) {\n                                    yaml_input.techniques[i].detection[x].comment = '';\n                                }\n                                if (\n                                    yaml_input.techniques[i].detection[x].score_logbook == undefined ||\n                                    yaml_input.techniques[i].detection[x].score_logbook.length == 0\n                                ) {\n                                    yaml_input.techniques[i].detection[x].score_logbook = new Array(\n                                        _.cloneDeep(constants.YAML_OBJ_SCORE_DETECTION_LOGBOOK)\n                                    );\n                                }\n\n                                // Check score log book variables:\n                                for (let j = 0; j < yaml_input.techniques[i].detection[x].score_logbook.length; j++) {\n                                    if (yaml_input.techniques[i].detection[x].score_logbook[j].date == undefined) {\n                                        yaml_input.techniques[i].detection[x].score_logbook[j].date = null;\n                                    }\n                                    if (yaml_input.techniques[i].detection[x].score_logbook[j].score == undefined) {\n                                        yaml_input.techniques[i].detection[x].score_logbook[j].score = -1;\n                                    } else {\n                                        yaml_input.techniques[i].detection[x].score_logbook[j].score = this.fixSDetectionScore(\n                                            yaml_input.techniques[i].detection[x].score_logbook[j].score\n                                        );\n                                    }\n                                    if (yaml_input.techniques[i].detection[x].score_logbook[j].comment == undefined) {\n                                        yaml_input.techniques[i].detection[x].score_logbook[j].comment = '';\n                                    }\n                                    if (yaml_input.techniques[i].detection[x].score_logbook[j].date != null) {\n                                        yaml_input.techniques[i].detection[x].score_logbook[j].date = moment(\n                                            yaml_input.techniques[i].detection[x].score_logbook[j].date,\n                                            'DD/MM/YYYY'\n                                        ).format('YYYY-MM-DD');\n                                    }\n                                }\n                            }\n\n                            // Check visibility fields:\n                            for (let x = 0; x < yaml_input.techniques[i].visibility.length; x++) {\n                                if (yaml_input.techniques[i].visibility[x].applicable_to == undefined) {\n                                    yaml_input.techniques[i].visibility[x].applicable_to = ['all'];\n                                }\n                                if (yaml_input.techniques[i].visibility[x].comment == undefined) {\n                                    yaml_input.techniques[i].visibility[x].comment = '';\n                                }\n                                if (\n                                    yaml_input.techniques[i].visibility[x].score_logbook == undefined ||\n                                    yaml_input.techniques[i].visibility[x].score_logbook.length == 0\n                                ) {\n                                    yaml_input.techniques[i].visibility[x].score_logbook = new Array(\n                                        _.cloneDeep(constants.YAML_OBJ_SCORE_VISIBILITY_LOGBOOK)\n                                    );\n                                }\n\n                                // Check score log book variables:\n                                for (let j = 0; j < yaml_input.techniques[i].visibility[x].score_logbook.length; j++) {\n                                    if (yaml_input.techniques[i].visibility[x].score_logbook[j].date == undefined) {\n                                        yaml_input.techniques[i].visibility[x].score_logbook[j].date = null;\n                                    }\n                                    if (yaml_input.techniques[i].visibility[x].score_logbook[j].score == undefined) {\n                                        yaml_input.techniques[i].visibility[x].score_logbook[j].score = 0;\n                                    } else {\n                                        yaml_input.techniques[i].visibility[x].score_logbook[j].score = this.fixVisibilityScore(\n                                            yaml_input.techniques[i].visibility[x].score_logbook[j].score\n                                        );\n                                    }\n                                    if (yaml_input.techniques[i].visibility[x].score_logbook[j].comment == undefined) {\n                                        yaml_input.techniques[i].visibility[x].score_logbook[j].comment = '';\n                                    }\n                                    if (yaml_input.techniques[i].visibility[x].score_logbook[j].date != null) {\n                                        yaml_input.techniques[i].visibility[x].score_logbook[j].date = moment(\n                                            yaml_input.techniques[i].visibility[x].score_logbook[j].date,\n                                            'DD/MM/YYYY'\n                                        ).format('YYYY-MM-DD');\n                                    }\n                                    if (yaml_input.techniques[i].visibility[x].score_logbook[j].auto_generated == undefined) {\n                                        yaml_input.techniques[i].visibility[x].score_logbook[j].auto_generated = false;\n                                    }\n                                    if (typeof yaml_input.techniques[i].visibility[x].score_logbook[j].auto_generated != 'boolean') {\n                                        yaml_input.techniques[i].visibility[x].score_logbook[j].auto_generated = false;\n                                    }\n                                }\n                            }\n\n                            // Check overlapping applicable_to values for detection:\n                            let applicable_to_list_detection = [];\n                            let notifiedList_detection = [];\n                            for (let x = 0; x < yaml_input.techniques[i].detection.length; x++) {\n                                for (let j = 0; j < yaml_input.techniques[i].detection[x].applicable_to.length; j++) {\n                                    applicable_to_list_detection.push(yaml_input.techniques[i].detection[x].applicable_to[j]);\n                                }\n                            }\n                            for (let x = 0; x < applicable_to_list_detection.length; x++) {\n                                let c = 0;\n                                for (let j = 0; j < applicable_to_list_detection.length; j++) {\n                                    if (applicable_to_list_detection[x] == applicable_to_list_detection[j]) {\n                                        c++;\n                                    }\n                                }\n                                if (c > 1 && !notifiedList_detection.includes(applicable_to_list_detection[x])) {\n                                    notifiedList_detection.push(applicable_to_list_detection[x]);\n                                    this.notifyOverlappingApplicableTo(\n                                        'detection',\n                                        yaml_input.techniques[i].technique_id,\n                                        applicable_to_list_detection[x]\n                                    );\n                                }\n                            }\n\n                            // Check overlapping applicable_to values for visibility:\n                            let applicable_to_list_visibility = [];\n                            let notifiedList_visibility = [];\n                            for (let x = 0; x < yaml_input.techniques[i].visibility.length; x++) {\n                                for (let j = 0; j < yaml_input.techniques[i].visibility[x].applicable_to.length; j++) {\n                                    applicable_to_list_visibility.push(yaml_input.techniques[i].visibility[x].applicable_to[j]);\n                                }\n                            }\n                            for (let x = 0; x < applicable_to_list_visibility.length; x++) {\n                                let c = 0;\n                                for (let j = 0; j < applicable_to_list_visibility.length; j++) {\n                                    if (applicable_to_list_visibility[x] == applicable_to_list_visibility[j]) {\n                                        c++;\n                                    }\n                                }\n                                if (c > 1 && !notifiedList_visibility.includes(applicable_to_list_visibility[x])) {\n                                    notifiedList_visibility.push(applicable_to_list_visibility[x]);\n                                    this.notifyOverlappingApplicableTo(\n                                        'visibility',\n                                        yaml_input.techniques[i].technique_id,\n                                        applicable_to_list_visibility[x]\n                                    );\n                                }\n                            }\n                        }\n\n                        this.doc = yaml_input;\n                        this.filename = this.selected_filename;\n                        this.filters.filter.value = '';\n                        while (this.selectedRow != null && this.selectedRow.length > 0) {\n                            this.selectedRow.pop();\n                        }\n\n                        this.fileChanged = false;\n                        if (this.unwatchFunction != null) {\n                            this.unwatchFunction();\n                        }\n                        this.unwatchFunction = this.$watch(\n                            'doc',\n                            // eslint-disable-next-line no-unused-vars\n                            function(after, before) {\n                                this.fileChanged = true;\n                            },\n                            { deep: true }\n                        );\n\n                        // Reset the file reader for Chrome, so that it will be possible to load the same file again:\n                        document.getElementById('techniqueFileReader').value = null;\n                    }\n                } else {\n                    this.notifyInvalidFileType(this.selected_filename);\n                }\n            } catch (e) {\n                alert(e);\n                this.notifyInvalidFileType(this.selected_filename);\n            }\n        },\n        newFile() {\n            this.filename = 'techniques-administration-new.yaml';\n            this.selected_filename = 'techniques-administration-new.yaml';\n            this.doc = _.cloneDeep(constants.YAML_OBJ_NEW_TECHNIQUES_FILE);\n            this.selectedRow.pop();\n            this.deletedRows = [];\n            this.fileChanged = false;\n            this.setWatch();\n        },\n        fixSDetectionScore(d) {\n            if (d == undefined) {\n                return -1;\n            } else if (d < -1) {\n                return -1;\n            } else if (d > 5) {\n                return 5;\n            } else if (typeof d == 'number') {\n                return d;\n            } else {\n                return -1;\n            }\n        },\n        fixVisibilityScore(v) {\n            if (v == undefined) {\n                return 0;\n            } else if (v < 0) {\n                return 0;\n            } else if (v > 4) {\n                return 4;\n            } else if (typeof v == 'number') {\n                return v;\n            } else {\n                return 0;\n            }\n        },\n        cleanupBeforeDownload() {\n            // Remove empty score logbook rows in detection:\n            for (let i = 0; i < this.doc.techniques.length; i++) {\n                for (let x = 0; x < this.doc.techniques[i].detection.length; x++) {\n                    let indexEmptyScoreLogbook = -1;\n                    for (let j = 0; j < this.doc.techniques[i].detection[x].score_logbook.length; j++) {\n                        if (this.doc.techniques[i].detection[x].score_logbook.length == 1) {\n                            break;\n                        }\n                        let d = this.doc.techniques[i].detection[x].score_logbook[j].date;\n                        if (d == null || d == '') {\n                            indexEmptyScoreLogbook = j;\n                        }\n                    }\n                    if (indexEmptyScoreLogbook >= 0) {\n                        this.doc.techniques[i].detection[x].score_logbook.splice(indexEmptyScoreLogbook, 1);\n                    }\n                }\n            }\n\n            // Remove empty score logbook rows in visibility:\n            for (let i = 0; i < this.doc.techniques.length; i++) {\n                for (let x = 0; x < this.doc.techniques[i].visibility.length; x++) {\n                    let indexEmptyScoreLogbook = -1;\n                    for (let j = 0; j < this.doc.techniques[i].visibility[x].score_logbook.length; j++) {\n                        if (this.doc.techniques[i].visibility[x].score_logbook.length == 1) {\n                            break;\n                        }\n                        let d = this.doc.techniques[i].visibility[x].score_logbook[j].date;\n                        if (d == null || d == '') {\n                            indexEmptyScoreLogbook = j;\n                        }\n                    }\n                    if (indexEmptyScoreLogbook >= 0) {\n                        this.doc.techniques[i].visibility[x].score_logbook.splice(indexEmptyScoreLogbook, 1);\n                    }\n                }\n            }\n        },\n        convertBeforeDownload(newDoc) {\n            // Convert the date (which is a string in the GUI) to a real Date object in the YAML file\n            for (let i = 0; i < newDoc.techniques.length; i++) {\n                for (let x = 0; x < newDoc.techniques[i].detection.length; x++) {\n                    for (let j = 0; j < newDoc.techniques[i].detection[x].score_logbook.length; j++) {\n                        if (newDoc.techniques[i].detection[x].score_logbook[j]['date'] != null) {\n                            newDoc.techniques[i].detection[x].score_logbook[j]['date'] = new Date(\n                                newDoc.techniques[i].detection[x].score_logbook[j]['date']\n                            );\n                        }\n                    }\n                }\n            }\n            for (let i = 0; i < newDoc.techniques.length; i++) {\n                for (let x = 0; x < newDoc.techniques[i].visibility.length; x++) {\n                    for (let j = 0; j < newDoc.techniques[i].visibility[x].score_logbook.length; j++) {\n                        if (newDoc.techniques[i].visibility[x].score_logbook[j]['date'] != null) {\n                            newDoc.techniques[i].visibility[x].score_logbook[j]['date'] = new Date(\n                                newDoc.techniques[i].visibility[x].score_logbook[j]['date']\n                            );\n                        }\n                    }\n                }\n            }\n        },\n        selectTechnique(event) {\n            if (this.$refs.detailComponent != undefined) {\n                this.$refs.detailComponent.closeAllCollapses();\n            }\n            this.selectItem(event);\n        },\n        selectTechniqueId(technique_id) {\n            let row = null;\n            for (let i = 0; i < this.doc.techniques.length; i++) {\n                if (this.doc.techniques[i].technique_id == technique_id) {\n                    row = this.doc.techniques[i];\n                }\n            }\n            if (row != null) {\n                this.selectedRow.pop();\n                this.selectedRow.push(row);\n            }\n        },\n        deleteTechnique(event) {\n            this.deleteItem(event, 'techniques', 'technique_id', 'Technique', this.recoverDeletedTechnique);\n        },\n        recoverDeletedTechnique(technique_id) {\n            this.recoverDeletedItem('techniques', technique_id);\n        },\n        notifyInvalidFileType(filename) {\n            this.notifyDanger('Invalid YAML file type', \"The file '\" + filename + \"' is not a valid technique administration file.\");\n        },\n        notifyOverlappingApplicableTo(type, technique_id, value) {\n            this.notifyDangerWithCallback(\n                \"Overlapping value in 'applicable_to'\",\n                \"A duplicate value for 'applicable_to' was found within the \" + type + ' section of technique ' + technique_id + \": '\" + value + \"'\",\n                this.selectTechniqueId,\n                'Go to technique ' + technique_id,\n                technique_id,\n                true\n            );\n        }\n    }\n};\n</script>\n\n<style></style>\n"]}]}