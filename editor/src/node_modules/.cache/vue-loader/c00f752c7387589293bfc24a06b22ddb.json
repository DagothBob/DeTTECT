{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/holger/DeTTECT_Project/DeTTECT/editor/src/pages/DataSourcesPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/holger/DeTTECT_Project/DeTTECT/editor/src/pages/DataSourcesPage.vue","mtime":1638057631669},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":1638056082284},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":1638056082020},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":1638056081964}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEYXRhU291cmNlRGV0YWlsIGZyb20gJy4vRGF0YVNvdXJjZURldGFpbCc7CmltcG9ydCBJY29ucyBmcm9tICdAL2NvbXBvbmVudHMvSWNvbnMnOwppbXBvcnQganN5YW1sIGZyb20gJ2pzLXlhbWwnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBjb25zdGFudHMgZnJvbSAnQC9jb25zdGFudHMnOwppbXBvcnQgeyBwYWdlTWl4aW4gfSBmcm9tICcuLi9taXhpbnMvUGFnZU1peGlucy5qcyc7CmltcG9ydCB7IG5hdmlnYXRlTWl4aW5zIH0gZnJvbSAnLi4vbWl4aW5zL05hdmlnYXRlTWl4aW5zLmpzJzsKaW1wb3J0IHsgbm90aWZpY2F0aW9uTWl4aW4gfSBmcm9tICcuLi9taXhpbnMvTm90aWZpY2F0aW9uTWl4aW5zLmpzJzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdkYXRhLXNvdXJjZXMtcGFnZScsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGZpbHRlcnM6IHsKICAgICAgICAgICAgICAgIGZpbHRlcjogewogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICAgICAgICAgICAgICBrZXlzOiBbJ2RhdGFfc291cmNlX25hbWUnLCAnZGF0ZV9yZWdpc3RlcmVkJywgJ3Byb2R1Y3RzJ10KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHJldkRhdGFTb3VyY2VRdWFsaXR5OiBbXSwKICAgICAgICAgICAgZGF0YV9jb2x1bW5zOiBbJ2RhdGFfc291cmNlX25hbWUnLCAnZGF0ZV9yZWdpc3RlcmVkJywgJ3Byb2R1Y3RzJ10sCiAgICAgICAgICAgIGRxRmlsZVRvUmVuZGVyOiAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3dpa2kvcmFib2JhbmstY2RjL0RlVFRFQ1QvRGF0YS1xdWFsaXR5LXNjb3JpbmcubWQnLAogICAgICAgICAgICBkcUhlbHBUZXh0OiBudWxsLAogICAgICAgICAgICBkc0ZpbGVUb1JlbmRlcjogJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS93aWtpL3JhYm9iYW5rLWNkYy9EZVRURUNUL1lBTUwtYWRtaW5pc3RyYXRpb24tZGF0YS1zb3VyY2VzLm1kJywKICAgICAgICAgICAgZHNIZWxwVGV4dDogbnVsbCwKICAgICAgICAgICAgZW1wdHlEYXRhU291cmNlT2JqZWN0OiBjb25zdGFudHMuWUFNTF9PQkpfREFUQV9TT1VSQ0VTCiAgICAgICAgfTsKICAgIH0sCiAgICBtaXhpbnM6IFtwYWdlTWl4aW4sIG5hdmlnYXRlTWl4aW5zLCBub3RpZmljYXRpb25NaXhpbl0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgRGF0YVNvdXJjZURldGFpbCwKICAgICAgICBJY29ucwogICAgfSwKICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHRoaXMucHJlbG9hZE1hcmtEb3duKCk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHJlYWRGaWxlKGV2ZW50KSB7CiAgICAgICAgICAgIC8vIExvYWRzIGFuZCBjaGVja3MgdGhlIGZpbGUgY29udGVudAogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgbGV0IHlhbWxfaW5wdXQgPSBqc3lhbWwubG9hZChldmVudC5yZXN1bHQpOwoKICAgICAgICAgICAgICAgIGlmICh5YW1sX2lucHV0WydmaWxlX3R5cGUnXSA9PSAnZGF0YS1zb3VyY2UtYWRtaW5pc3RyYXRpb24nKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHlhbWxfaW5wdXRbJ3ZlcnNpb24nXSAhPSBjb25zdGFudHMuWUFNTF9EQVRBU09VUkNFU19WRVJTSU9OKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5RGFuZ2VyKCdJbnZhbGlkIGZpbGUgdmVyc2lvbicsICdUaGUgdmVyc2lvbiBvZiB0aGUgWUFNTCBmaWxlIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyB2ZXJzaW9uIG9mIHRoZSBFZGl0b3IuJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGVhbHRoIGNoZWNrcyBiZWZvcmUgYXNzaWdubWVudCB0byB0aGlzLmRvYzoKICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpeCBtaXNzaW5nIG9yIGVtcHR5IHBsYXRmb3JtOgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWFtbF9pbnB1dC5wbGF0Zm9ybSA9PSB1bmRlZmluZWQgfHwgeWFtbF9pbnB1dC5wbGF0Zm9ybSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LnBsYXRmb3JtID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpeCBhIHNpbmdsZSBwbGF0Zm9ybSBzdHJpbmcgdG8gbGlzdAogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHlhbWxfaW5wdXQucGxhdGZvcm0gPT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQucGxhdGZvcm0gPSBbeWFtbF9pbnB1dC5wbGF0Zm9ybV07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgdXNlIHZhbGlkIHBsYXRmb3JtIHZhbHVlcyAoaW4gcmlnaHQgY2FzaW5nKToKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbGlkX3BsYXRmb3JtcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHlhbWxfaW5wdXQucGxhdGZvcm0ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXRmb3Jtcy5pbmRleE9mKHlhbWxfaW5wdXQucGxhdGZvcm1baV0pIDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwID0geWFtbF9pbnB1dC5wbGF0Zm9ybVtpXS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhjb25zdGFudHMuUExBVEZPUk1fQ09OVkVSU0lPTikuaW5kZXhPZihwKSA+PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkX3BsYXRmb3Jtcy5wdXNoKGNvbnN0YW50cy5QTEFURk9STV9DT05WRVJTSU9OW3BdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeURhbmdlcignSW52YWxpZCB2YWx1ZScsICdJbnZhbGlkIHZhbHVlIGZvciBwbGF0Zm9ybSB3YXMgZm91bmQgaW4gdGhlIFlBTUwgZmlsZSBhbmQgd2FzIHJlbW92ZWQuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZF9wbGF0Zm9ybXMucHVzaCh5YW1sX2lucHV0LnBsYXRmb3JtW2ldKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LnBsYXRmb3JtID0gdmFsaWRfcGxhdGZvcm1zOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gRml4IG1pc3NpbmcvaW52YWxpZCBmaWVsZHM6ICdwcm9kdWN0cycsIGF2YWlsYWJsZV9mb3JfZGF0YV9hbmFseXRpY3MsIGRhdGFfcXVhbGl0eQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHlhbWxfaW5wdXQuZGF0YV9zb3VyY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWFtbF9pbnB1dC5kYXRhX3NvdXJjZXNbaV0ucHJvZHVjdHMgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC5kYXRhX3NvdXJjZXNbaV0ucHJvZHVjdHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWFtbF9pbnB1dC5kYXRhX3NvdXJjZXNbaV0uYXZhaWxhYmxlX2Zvcl9kYXRhX2FuYWx5dGljcyA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LmRhdGFfc291cmNlc1tpXS5hdmFpbGFibGVfZm9yX2RhdGFfYW5hbHl0aWNzID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB5YW1sX2lucHV0LmRhdGFfc291cmNlc1tpXS5hdmFpbGFibGVfZm9yX2RhdGFfYW5hbHl0aWNzICE9ICdib29sZWFuJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQuZGF0YV9zb3VyY2VzW2ldLmF2YWlsYWJsZV9mb3JfZGF0YV9hbmFseXRpY3MgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWFtbF9pbnB1dC5kYXRhX3NvdXJjZXNbaV0uZGF0YV9xdWFsaXR5ID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQuZGF0YV9zb3VyY2VzW2ldLmRhdGFfcXVhbGl0eSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlX2NvbXBsZXRlbmVzczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWVsZF9jb21wbGV0ZW5lc3M6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lc3M6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNpc3RlbmN5OiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRlbnRpb246IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQuZGF0YV9zb3VyY2VzW2ldLmRhdGFfcXVhbGl0eS5kZXZpY2VfY29tcGxldGVuZXNzID0gdGhpcy5maXhTRGF0YVF1YWxpdHlTY29yZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LmRhdGFfc291cmNlc1tpXS5kYXRhX3F1YWxpdHkuZGV2aWNlX2NvbXBsZXRlbmVzcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQuZGF0YV9zb3VyY2VzW2ldLmRhdGFfcXVhbGl0eS5kYXRhX2ZpZWxkX2NvbXBsZXRlbmVzcyA9IHRoaXMuZml4U0RhdGFRdWFsaXR5U2NvcmUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC5kYXRhX3NvdXJjZXNbaV0uZGF0YV9xdWFsaXR5LmRhdGFfZmllbGRfY29tcGxldGVuZXNzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC5kYXRhX3NvdXJjZXNbaV0uZGF0YV9xdWFsaXR5LnRpbWVsaW5lc3MgPSB0aGlzLmZpeFNEYXRhUXVhbGl0eVNjb3JlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlhbWxfaW5wdXQuZGF0YV9zb3VyY2VzW2ldLmRhdGFfcXVhbGl0eS50aW1lbGluZXNzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFtbF9pbnB1dC5kYXRhX3NvdXJjZXNbaV0uZGF0YV9xdWFsaXR5LmNvbnNpc3RlbmN5ID0gdGhpcy5maXhTRGF0YVF1YWxpdHlTY29yZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LmRhdGFfc291cmNlc1tpXS5kYXRhX3F1YWxpdHkuY29uc2lzdGVuY3kKICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LmRhdGFfc291cmNlc1tpXS5kYXRhX3F1YWxpdHkucmV0ZW50aW9uID0gdGhpcy5maXhTRGF0YVF1YWxpdHlTY29yZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5YW1sX2lucHV0LmRhdGFfc291cmNlc1tpXS5kYXRhX3F1YWxpdHkucmV0ZW50aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgdGhlIGZvbGxvd2luZyBmaWVsZHMgaXQncyBub3QgYSBwcm9ibGVtIGlzIHRoZXkgYXJlIG1pc3NpbmcgYmVjYXVzZSB0aGUgR1VJIHNvbHZlcy9oYW5kbGVzIHRoaXMgcHJvcGVybHk6CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gZGF0ZV9yZWdpc3RlcmVkLiBBbHNvIGludmFsaWQgdmFsdWVzIGFyZSBoYW5kbGVkIGNvcnJlY3RseS4KICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBkYXRlX2Nvbm5lY3RlZC4gQWxzbyBpbnZhbGlkIHZhbHVlcyBhcmUgaGFuZGxlZCBjb3JyZWN0bHkuCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gY29tbWVudAoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2MgPSB5YW1sX2lucHV0OwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVuYW1lID0gdGhpcy5zZWxlY3RlZF9maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJzLmZpbHRlci52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5zZWxlY3RlZFJvdyAhPSBudWxsICYmIHRoaXMuc2VsZWN0ZWRSb3cubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvdy5wb3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gRml4IHRoZSBkYXRlIHRvIGJlIGluIHRoZSBjb3JyZWN0IGRhdGUgZm9ybWF0IChZWVktTU0tREQpOgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZG9jLmRhdGFfc291cmNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRyID0gdGhpcy5kb2MuZGF0YV9zb3VyY2VzW2ldWydkYXRlX3JlZ2lzdGVyZWQnXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkdiA9IHRoaXMuZG9jLmRhdGFfc291cmNlc1tpXVsnZGF0ZV9jb25uZWN0ZWQnXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkciAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2MuZGF0YV9zb3VyY2VzW2ldWydkYXRlX3JlZ2lzdGVyZWQnXSA9IG1vbWVudChkciwgJ0REL01NL1lZWVknKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkdiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2MuZGF0YV9zb3VyY2VzW2ldWydkYXRlX2Nvbm5lY3RlZCddID0gbW9tZW50KGR2LCAnREQvTU0vWVlZWScpLmZvcm1hdCgnWVlZWS1NTS1ERCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZEYXRhU291cmNlUXVhbGl0eSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVDaGFuZ2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0V2F0Y2goKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBmaWxlIHJlYWRlciBmb3IgQ2hyb21lLCBzbyB0aGF0IGl0IHdpbGwgYmUgcG9zc2libGUgdG8gbG9hZCB0aGUgc2FtZSBmaWxlIGFnYWluOgogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHNGaWxlUmVhZGVyJykudmFsdWUgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlJbnZhbGlkRmlsZVR5cGUodGhpcy5zZWxlY3RlZF9maWxlbmFtZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIC8vIGFsZXJ0KGUpOwogICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlJbnZhbGlkRmlsZVR5cGUodGhpcy5zZWxlY3RlZF9maWxlbmFtZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG5ld0ZpbGUoKSB7CiAgICAgICAgICAgIHRoaXMuZmlsZW5hbWUgPSAnZGF0YS1zb3VyY2VzLW5ldy55YW1sJzsKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZF9maWxlbmFtZSA9ICdkYXRhLXNvdXJjZXMtbmV3LnlhbWwnOwogICAgICAgICAgICB0aGlzLmRvYyA9IF8uY2xvbmVEZWVwKGNvbnN0YW50cy5ZQU1MX09CSl9ORVdfREFUQV9TT1VSQ0VTX0ZJTEUpOwogICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93LnBvcCgpOwogICAgICAgICAgICB0aGlzLmRlbGV0ZWRSb3dzID0gW107CiAgICAgICAgICAgIHRoaXMuZmlsZUNoYW5nZWQgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5zZXRXYXRjaCgpOwogICAgICAgIH0sCiAgICAgICAgZml4U0RhdGFRdWFsaXR5U2NvcmUodikgewogICAgICAgICAgICBpZiAodiA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9IGVsc2UgaWYgKHYgPCAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfSBlbHNlIGlmICh2ID4gNSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT0gJ251bWJlcicpIHsKICAgICAgICAgICAgICAgIHJldHVybiB2OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNsZWFudXBCZWZvcmVEb3dubG9hZCgpIHsKICAgICAgICAgICAgLy8gZW1wdHkgZnVuY3Rpb24uIG11c3QgYmUgaGVyZSB0byBtYWtlIGRvd25sb2FkWWFtbCgpIHdvcmsgZm9yIGV2ZXJ5IHBhZ2UKICAgICAgICB9LAogICAgICAgIGNvbnZlcnRCZWZvcmVEb3dubG9hZChuZXdEb2MpIHsKICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgZGF0ZSAod2hpY2ggaXMgYSBzdHJpbmcgaW4gdGhlIEdVSSkgdG8gYSByZWFsIERhdGUgb2JqZWN0IGluIHRoZSBZQU1MIGZpbGUKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdEb2MuZGF0YV9zb3VyY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAobmV3RG9jLmRhdGFfc291cmNlc1tpXVsnZGF0ZV9yZWdpc3RlcmVkJ10gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIG5ld0RvYy5kYXRhX3NvdXJjZXNbaV1bJ2RhdGVfcmVnaXN0ZXJlZCddID0gbmV3IERhdGUobmV3RG9jLmRhdGFfc291cmNlc1tpXVsnZGF0ZV9yZWdpc3RlcmVkJ10pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKG5ld0RvYy5kYXRhX3NvdXJjZXNbaV1bJ2RhdGVfY29ubmVjdGVkJ10gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIG5ld0RvYy5kYXRhX3NvdXJjZXNbaV1bJ2RhdGVfY29ubmVjdGVkJ10gPSBuZXcgRGF0ZShuZXdEb2MuZGF0YV9zb3VyY2VzW2ldWydkYXRlX2Nvbm5lY3RlZCddKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZGVsZXRlRGF0YVNvdXJjZShldmVudCkgewogICAgICAgICAgICB0aGlzLmRlbGV0ZUl0ZW0oZXZlbnQsICdkYXRhX3NvdXJjZXMnLCAnZGF0YV9zb3VyY2VfbmFtZScsICdEYXRhIHNvdXJjZScsIHRoaXMucmVjb3ZlckRlbGV0ZWREYXRhU291cmNlKTsKICAgICAgICB9LAogICAgICAgIHJlY292ZXJEZWxldGVkRGF0YVNvdXJjZShkYXRhX3NvdXJjZV9uYW1lKSB7CiAgICAgICAgICAgIHRoaXMucmVjb3ZlckRlbGV0ZWRJdGVtKCdkYXRhX3NvdXJjZXMnLCBkYXRhX3NvdXJjZV9uYW1lKTsKICAgICAgICB9LAogICAgICAgIHByZWxvYWRNYXJrRG93bigpIHsKICAgICAgICAgICAgLy8gUHJlbG9hZCB0aGUgZGF0YSBxdWFsaXR5IGhlbHAgdGV4dCBmcm9tIEdpdGh1YgogICAgICAgICAgICB0aGlzLmRxSGVscFRleHQgPSAnTG9hZGluZyB0aGUgaGVscCBjb250ZW50Li4uJzsKICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQodGhpcy5kcUZpbGVUb1JlbmRlcikudGhlbigKICAgICAgICAgICAgICAgIChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBsaW5rcyB0byBvdGhlciB3aWtpIHBhZ2VzCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcUhlbHBUZXh0ID0gcmVzcG9uc2UuYm9keS5yZXBsYWNlKC9cWyguKylcXShcKFsjXHctXStcKSkvZ20sICckMScpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwogICAgICAgICAgICAgICAgKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcUhlbHBUZXh0ID0gJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgdGhlIGhlbHAgY29udGVudC4nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOwoKICAgICAgICAgICAgdGhpcy5kc0hlbHBUZXh0ID0gJ0xvYWRpbmcgdGhlIGhlbHAgY29udGVudC4uLic7CiAgICAgICAgICAgIHRoaXMuJGh0dHAuZ2V0KHRoaXMuZHNGaWxlVG9SZW5kZXIpLnRoZW4oCiAgICAgICAgICAgICAgICAocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRzSGVscFRleHQgPSByZXNwb25zZS5ib2R5LnJlcGxhY2UoL1xbKC4rKVxdKFwoWyNcdy1dK1wpKS9nbSwgJyQxJyk7IC8vIHJlbW92ZSBsaW5rcyB0byBvdGhlciB3aWtpIHBhZ2VzCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kc0hlbHBUZXh0ID0gdGhpcy5kc0hlbHBUZXh0Lm1hdGNoKC8jIyBEYXRhIHNvdXJjZSBvYmplY3QoKC4qfFxuKSopL2dpbSwgJyQxJylbMF07CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kc0hlbHBUZXh0ID0gdGhpcy5kc0hlbHBUZXh0LnJlcGxhY2UoL14jIyBEYXRhIHNvdXJjZSBvYmplY3QvZ2ltLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kc0hlbHBUZXh0ID0gdGhpcy5kc0hlbHBUZXh0LnJlcGxhY2UoL14jIyAuKygoLip8XG4pKikvZ2ltLCAnJyk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgICAgICAgICAgICAocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRzSGVscFRleHQgPSAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgbG9hZGluZyB0aGUgaGVscCBjb250ZW50Lic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgICBub3RpZnlJbnZhbGlkRmlsZVR5cGUoZmlsZW5hbWUpIHsKICAgICAgICAgICAgdGhpcy5ub3RpZnlEYW5nZXIoJ0ludmFsaWQgWUFNTCBmaWxlIHR5cGUnLCAiVGhlIGZpbGUgJyIgKyBmaWxlbmFtZSArICInIGlzIG5vdCBhIHZhbGlkIGRhdGEgc291cmNlIGFkbWluaXN0cmF0aW9uIGZpbGUuIik7CiAgICAgICAgfQogICAgfSwKICAgIGZpbHRlcnM6IHsKICAgICAgICBsaXN0VG9TdHJpbmc6IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmpvaW4oJywgJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn07Cg=="},{"version":3,"sources":["DataSourcesPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DataSourcesPage.vue","sourceRoot":"pages","sourcesContent":["<template>\n    <div>\n        <div v-if=\"doc != null\" class=\"back-to-top\">\n            <label @click=\"navigateToTop\" class=\"cursor-pointer\" title=\"Back to top\">\n                <icons icon=\"arrow-up\"></icons>\n            </label>\n        </div>\n\n        <div class=\"row\" id=\"pageTop\">\n            <div class=\"col\">\n                <div class=\"card card-card\">\n                    <div class=\"card-header\">\n                        <h2 class=\"card-title\"><i class=\"tim-icons icon-coins\"></i> Data Sources</h2>\n                    </div>\n                    <div class=\"card-body\">\n                        <div class=\"row\">\n                            <div class=\"col\">\n                                <button type=\"button\" class=\"btn mr-md-3\" @click=\"askNewFile\">\n                                    <icons icon=\"file-empty\"></icons>\n                                    &nbsp;New file\n                                </button>\n                                <label class=\"custom-file-upload\">\n                                    <icons icon=\"file\"></icons>\n                                    &nbsp;Select YAML file\n                                    <file-reader @load=\"readFile($event)\" :setFileNameFn=\"setFileName\" :id=\"'dsFileReader'\"></file-reader>\n                                </label>\n                                <label v-if=\"fileChanged\" class=\"pl-2\">\n                                    <icons icon=\"text-balloon\"></icons>\n                                    You have unsaved changes. You may want to save the file to preserve your changes.</label\n                                >\n                            </div>\n                        </div>\n                        <div v-if=\"doc != null\" class=\"row pt-md-2\">\n                            <div class=\"col\">\n                                <file-details :filename=\"filename\" :doc=\"doc\" :platforms=\"platforms\"></file-details>\n                            </div>\n                        </div>\n                        <div v-if=\"doc != null\" class=\"row pt-md-2\">\n                            <div class=\"col card-text\">\n                                <button type=\"button\" class=\"btn\" @click=\"downloadYaml('data_sources', 'data_source_name')\">\n                                    <icons icon=\"save\"></icons>\n                                    &nbsp;Save YAML file\n                                </button>\n                            </div>\n                            <div class=\"col card-text\">\n                                <button type=\"button\" class=\"btn\"> <!-- TODO: @click=\"something\" -->\n                                    <icons icon=\"save\"></icons>\n                                    &nbsp;Fill from log files\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div v-if=\"doc != null\" class=\"row\">\n            <div class=\"col\">\n                <card type=\"card\">\n                    <div class=\"row\">\n                        <div class=\"col\">\n                            <p>\n                                <button\n                                    type=\"button\"\n                                    class=\"btn btn-secondary\"\n                                    @click=\"addItem('data_sources', 'data_source_name', emptyDataSourceObject)\"\n                                >\n                                    <icons icon=\"plus\"></icons>\n                                    &nbsp;Add data source\n                                </button>\n                            </p>\n                        </div>\n                    </div>\n                    <div class=\"row mt-md-2\">\n                        <div class=\"col\">\n                            <base-input v-model=\"filters.filter.value\" placeholder=\"filter\" />\n                            <v-table\n                                :data=\"doc.data_sources\"\n                                @selectionChanged=\"selectItem($event)\"\n                                selectedClass=\"table-selected-custom\"\n                                :filters=\"filters\"\n                                class=\"table-custom\"\n                                ref=\"data_table\"\n                            >\n                                <thead slot=\"head\">\n                                    <v-th sortKey=\"data_source_name\" defaultSort=\"asc\" width=\"350\">Name</v-th>\n                                    <v-th sortKey=\"date_registered\" width=\"200\">Date registered</v-th>\n                                    <v-th sortKey=\"products\" width=\"350\">Products</v-th>\n                                    <th></th>\n                                </thead>\n                                <tbody slot=\"body\" slot-scope=\"{ displayData }\">\n                                    <v-tr v-for=\"(row, i) in displayData\" :key=\"row.data_source_name\" :row=\"row\" ref=\"data_table_rows\">\n                                        <td>{{ row.data_source_name }}</td>\n                                        <td>{{ row.date_registered }}</td>\n                                        <td>{{ row.products | listToString }}</td>\n                                        <td>\n                                            <i\n                                                class=\"tim-icons icon-trash-simple cursor-pointer\"\n                                                :idx=\"i\"\n                                                :data_source_name=\"row.data_source_name\"\n                                                @click=\"deleteDataSource($event)\"\n                                            />\n                                        </td>\n                                    </v-tr>\n                                </tbody>\n                            </v-table>\n                        </div>\n                    </div>\n                </card>\n            </div>\n            <div class=\"col\">\n                <card type=\"card\">\n                    <data-source-detail\n                        v-if=\"getSelectedItem() != null\"\n                        :dataSource=\"getSelectedItem()\"\n                        :allDataSources=\"doc.data_sources\"\n                        :dqHelpText=\"dqHelpText\"\n                        :dsHelpText=\"dsHelpText\"\n                        :prevDataSourceQuality=\"prevDataSourceQuality\"\n                        :navigateItem=\"navigateItem\"\n                    ></data-source-detail>\n                </card>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport DataSourceDetail from './DataSourceDetail';\nimport Icons from '@/components/Icons';\nimport jsyaml from 'js-yaml';\nimport moment from 'moment';\nimport constants from '@/constants';\nimport { pageMixin } from '../mixins/PageMixins.js';\nimport { navigateMixins } from '../mixins/NavigateMixins.js';\nimport { notificationMixin } from '../mixins/NotificationMixins.js';\nimport _ from 'lodash';\n\nexport default {\n    name: 'data-sources-page',\n    data() {\n        return {\n            filters: {\n                filter: {\n                    value: '',\n                    keys: ['data_source_name', 'date_registered', 'products']\n                }\n            },\n            prevDataSourceQuality: [],\n            data_columns: ['data_source_name', 'date_registered', 'products'],\n            dqFileToRender: 'https://raw.githubusercontent.com/wiki/rabobank-cdc/DeTTECT/Data-quality-scoring.md',\n            dqHelpText: null,\n            dsFileToRender: 'https://raw.githubusercontent.com/wiki/rabobank-cdc/DeTTECT/YAML-administration-data-sources.md',\n            dsHelpText: null,\n            emptyDataSourceObject: constants.YAML_OBJ_DATA_SOURCES\n        };\n    },\n    mixins: [pageMixin, navigateMixins, notificationMixin],\n    components: {\n        DataSourceDetail,\n        Icons\n    },\n    created: function() {\n        this.preloadMarkDown();\n    },\n    methods: {\n        readFile(event) {\n            // Loads and checks the file content\n            try {\n                let yaml_input = jsyaml.load(event.result);\n\n                if (yaml_input['file_type'] == 'data-source-administration') {\n                    if (yaml_input['version'] != constants.YAML_DATASOURCES_VERSION) {\n                        this.notifyDanger('Invalid file version', 'The version of the YAML file is not supported by this version of the Editor.');\n                    } else {\n                        ///////////////////////////////////////////////\n                        // Health checks before assignment to this.doc:\n                        ///////////////////////////////////////////////\n\n                        // Fix missing or empty platform:\n                        if (yaml_input.platform == undefined || yaml_input.platform == null) {\n                            yaml_input.platform = [];\n                        }\n\n                        // Fix a single platform string to list\n                        if (typeof yaml_input.platform == 'string') {\n                            yaml_input.platform = [yaml_input.platform];\n                        }\n\n                        // Only use valid platform values (in right casing):\n                        let valid_platforms = [];\n                        for (let i = 0; i < yaml_input.platform.length; i++) {\n                            if (this.platforms.indexOf(yaml_input.platform[i]) < 0) {\n                                let p = yaml_input.platform[i].toLowerCase();\n                                if (Object.keys(constants.PLATFORM_CONVERSION).indexOf(p) >= 0) {\n                                    valid_platforms.push(constants.PLATFORM_CONVERSION[p]);\n                                } else {\n                                    this.notifyDanger('Invalid value', 'Invalid value for platform was found in the YAML file and was removed.');\n                                }\n                            } else {\n                                valid_platforms.push(yaml_input.platform[i]);\n                            }\n                        }\n                        yaml_input.platform = valid_platforms;\n\n                        // Fix missing/invalid fields: 'products', available_for_data_analytics, data_quality\n                        for (let i = 0; i < yaml_input.data_sources.length; i++) {\n                            if (yaml_input.data_sources[i].products == undefined) {\n                                yaml_input.data_sources[i].products = [];\n                            }\n\n                            if (yaml_input.data_sources[i].available_for_data_analytics == undefined) {\n                                yaml_input.data_sources[i].available_for_data_analytics = false;\n                            }\n\n                            if (typeof yaml_input.data_sources[i].available_for_data_analytics != 'boolean') {\n                                yaml_input.data_sources[i].available_for_data_analytics = false;\n                            }\n\n                            if (yaml_input.data_sources[i].data_quality == undefined) {\n                                yaml_input.data_sources[i].data_quality = {\n                                    device_completeness: 0,\n                                    data_field_completeness: 0,\n                                    timeliness: 0,\n                                    consistency: 0,\n                                    retention: 0\n                                };\n                            }\n\n                            yaml_input.data_sources[i].data_quality.device_completeness = this.fixSDataQualityScore(\n                                yaml_input.data_sources[i].data_quality.device_completeness\n                            );\n                            yaml_input.data_sources[i].data_quality.data_field_completeness = this.fixSDataQualityScore(\n                                yaml_input.data_sources[i].data_quality.data_field_completeness\n                            );\n                            yaml_input.data_sources[i].data_quality.timeliness = this.fixSDataQualityScore(\n                                yaml_input.data_sources[i].data_quality.timeliness\n                            );\n                            yaml_input.data_sources[i].data_quality.consistency = this.fixSDataQualityScore(\n                                yaml_input.data_sources[i].data_quality.consistency\n                            );\n                            yaml_input.data_sources[i].data_quality.retention = this.fixSDataQualityScore(\n                                yaml_input.data_sources[i].data_quality.retention\n                            );\n                        }\n\n                        // For the following fields it's not a problem is they are missing because the GUI solves/handles this properly:\n                        // - date_registered. Also invalid values are handled correctly.\n                        // - date_connected. Also invalid values are handled correctly.\n                        // - comment\n\n                        this.doc = yaml_input;\n                        this.filename = this.selected_filename;\n                        this.filters.filter.value = '';\n                        while (this.selectedRow != null && this.selectedRow.length > 0) {\n                            this.selectedRow.pop();\n                        }\n\n                        // Fix the date to be in the correct date format (YYY-MM-DD):\n                        for (let i = 0; i < this.doc.data_sources.length; i++) {\n                            let dr = this.doc.data_sources[i]['date_registered'];\n                            let dv = this.doc.data_sources[i]['date_connected'];\n                            if (dr != null) {\n                                this.doc.data_sources[i]['date_registered'] = moment(dr, 'DD/MM/YYYY').format('YYYY-MM-DD');\n                            }\n                            if (dv != null) {\n                                this.doc.data_sources[i]['date_connected'] = moment(dv, 'DD/MM/YYYY').format('YYYY-MM-DD');\n                            }\n                        }\n\n                        this.prevDataSourceQuality = [];\n                        this.fileChanged = false;\n                        this.setWatch();\n\n                        // Reset the file reader for Chrome, so that it will be possible to load the same file again:\n                        document.getElementById('dsFileReader').value = null;\n                    }\n                } else {\n                    this.notifyInvalidFileType(this.selected_filename);\n                }\n            } catch (e) {\n                // alert(e);\n                this.notifyInvalidFileType(this.selected_filename);\n            }\n        },\n        newFile() {\n            this.filename = 'data-sources-new.yaml';\n            this.selected_filename = 'data-sources-new.yaml';\n            this.doc = _.cloneDeep(constants.YAML_OBJ_NEW_DATA_SOURCES_FILE);\n            this.selectedRow.pop();\n            this.deletedRows = [];\n            this.fileChanged = false;\n            this.setWatch();\n        },\n        fixSDataQualityScore(v) {\n            if (v == undefined) {\n                return 0;\n            } else if (v < 0) {\n                return 0;\n            } else if (v > 5) {\n                return 5;\n            } else if (typeof v == 'number') {\n                return v;\n            } else {\n                return 0;\n            }\n        },\n        cleanupBeforeDownload() {\n            // empty function. must be here to make downloadYaml() work for every page\n        },\n        convertBeforeDownload(newDoc) {\n            // Convert the date (which is a string in the GUI) to a real Date object in the YAML file\n            for (let i = 0; i < newDoc.data_sources.length; i++) {\n                if (newDoc.data_sources[i]['date_registered'] != null) {\n                    newDoc.data_sources[i]['date_registered'] = new Date(newDoc.data_sources[i]['date_registered']);\n                }\n                if (newDoc.data_sources[i]['date_connected'] != null) {\n                    newDoc.data_sources[i]['date_connected'] = new Date(newDoc.data_sources[i]['date_connected']);\n                }\n            }\n        },\n        deleteDataSource(event) {\n            this.deleteItem(event, 'data_sources', 'data_source_name', 'Data source', this.recoverDeletedDataSource);\n        },\n        recoverDeletedDataSource(data_source_name) {\n            this.recoverDeletedItem('data_sources', data_source_name);\n        },\n        preloadMarkDown() {\n            // Preload the data quality help text from Github\n            this.dqHelpText = 'Loading the help content...';\n            this.$http.get(this.dqFileToRender).then(\n                (response) => {\n                    // remove links to other wiki pages\n                    this.dqHelpText = response.body.replace(/\\[(.+)\\](\\([#\\w-]+\\))/gm, '$1');\n                },\n                // eslint-disable-next-line no-unused-vars\n                (response) => {\n                    this.dqHelpText = 'An error occurred while loading the help content.';\n                }\n            );\n\n            this.dsHelpText = 'Loading the help content...';\n            this.$http.get(this.dsFileToRender).then(\n                (response) => {\n                    this.dsHelpText = response.body.replace(/\\[(.+)\\](\\([#\\w-]+\\))/gm, '$1'); // remove links to other wiki pages\n                    this.dsHelpText = this.dsHelpText.match(/## Data source object((.*|\\n)*)/gim, '$1')[0];\n                    this.dsHelpText = this.dsHelpText.replace(/^## Data source object/gim, '');\n                    this.dsHelpText = this.dsHelpText.replace(/^## .+((.*|\\n)*)/gim, '');\n                },\n                // eslint-disable-next-line no-unused-vars\n                (response) => {\n                    this.dsHelpText = 'An error occurred while loading the help content.';\n                }\n            );\n        },\n        notifyInvalidFileType(filename) {\n            this.notifyDanger('Invalid YAML file type', \"The file '\" + filename + \"' is not a valid data source administration file.\");\n        }\n    },\n    filters: {\n        listToString: function(value) {\n            if (Array.isArray(value)) {\n                return value.join(', ');\n            } else {\n                return value;\n            }\n        }\n    }\n};\n</script>\n\n<style></style>\n"]}]}